{"version":3,"file":"simple-CE3cuuco.js","sources":["../../src/simple.js"],"sourcesContent":["import {\n    WebGLRenderer,\n    PerspectiveCamera,\n    Scene,\n    Mesh,\n    PlaneGeometry,\n    ShadowMaterial,\n    DirectionalLight,\n    PCFSoftShadowMap,\n    Color,\n    AmbientLight,\n    Box3,\n    LoadingManager,\n    MathUtils,\n} from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport URDFLoader from '../../src/URDFLoader.js';\n\nlet scene, camera, renderer, robot, controls;\n\ninit();\nrender();\n\nfunction init() {\n\n    scene = new Scene();\n    scene.background = new Color(0x263238);\n\n    camera = new PerspectiveCamera();\n    camera.position.set(10, 10, 10);\n    camera.lookAt(0, 0, 0);\n\n    renderer = new WebGLRenderer({ antialias: true });\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = PCFSoftShadowMap;\n    document.body.appendChild(renderer.domElement);\n\n    const directionalLight = new DirectionalLight(0xffffff, 1.0);\n    directionalLight.castShadow = true;\n    directionalLight.shadow.mapSize.setScalar(1024);\n    directionalLight.position.set(5, 30, 5);\n    scene.add(directionalLight);\n\n    const ambientLight = new AmbientLight(0xffffff, 0.2);\n    scene.add(ambientLight);\n\n    const ground = new Mesh(new PlaneGeometry(), new ShadowMaterial({ opacity: 0.25 }));\n    ground.rotation.x = -Math.PI / 2;\n    ground.scale.setScalar(30);\n    ground.receiveShadow = true;\n    scene.add(ground);\n\n    controls = new OrbitControls(camera, renderer.domElement);\n    controls.minDistance = 4;\n    controls.target.y = 1;\n    controls.update();\n\n    // Load robot\n    const manager = new LoadingManager();\n    const loader = new URDFLoader(manager);\n    loader.load('../../../urdf/T12/urdf/T12_flipped.URDF', result => {\n\n        robot = result;\n\n    });\n\n    // wait until all the geometry has loaded to add the model to the scene\n    manager.onLoad = () => {\n\n        robot.rotation.x = Math.PI / 2;\n        robot.traverse(c => {\n            c.castShadow = true;\n        });\n        for (let i = 1; i <= 6; i++) {\n\n            robot.joints[`HP${ i }`].setJointValue(MathUtils.degToRad(30));\n            robot.joints[`KP${ i }`].setJointValue(MathUtils.degToRad(120));\n            robot.joints[`AP${ i }`].setJointValue(MathUtils.degToRad(-60));\n\n        }\n        robot.updateMatrixWorld(true);\n\n        const bb = new Box3();\n        bb.setFromObject(robot);\n\n        robot.position.y -= bb.min.y;\n        scene.add(robot);\n\n    };\n\n    onResize();\n    window.addEventListener('resize', onResize);\n\n}\n\nfunction onResize() {\n\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.setPixelRatio(window.devicePixelRatio);\n\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n\n}\n\nfunction render() {\n\n    requestAnimationFrame(render);\n    renderer.render(scene, camera);\n\n}\n"],"names":["scene","camera","renderer","robot","controls","init","render","Scene","Color","PerspectiveCamera","WebGLRenderer","PCFSoftShadowMap","directionalLight","DirectionalLight","ambientLight","AmbientLight","ground","Mesh","PlaneGeometry","ShadowMaterial","OrbitControls","manager","LoadingManager","URDFLoader","result","c","i","MathUtils","bb","Box3","onResize"],"mappings":"wLAkBA,IAAIA,EAAOC,EAAQC,EAAUC,EAAOC,EAEpCC,EAAI,EACJC,EAAM,EAEN,SAASD,GAAO,CAEZL,EAAQ,IAAIO,EACZP,EAAM,WAAa,IAAIQ,EAAM,OAAQ,EAErCP,EAAS,IAAIQ,EACbR,EAAO,SAAS,IAAI,GAAI,GAAI,EAAE,EAC9BA,EAAO,OAAO,EAAG,EAAG,CAAC,EAErBC,EAAW,IAAIQ,EAAc,CAAE,UAAW,EAAI,CAAE,EAChDR,EAAS,UAAU,QAAU,GAC7BA,EAAS,UAAU,KAAOS,EAC1B,SAAS,KAAK,YAAYT,EAAS,UAAU,EAE7C,MAAMU,EAAmB,IAAIC,EAAiB,SAAU,CAAG,EAC3DD,EAAiB,WAAa,GAC9BA,EAAiB,OAAO,QAAQ,UAAU,IAAI,EAC9CA,EAAiB,SAAS,IAAI,EAAG,GAAI,CAAC,EACtCZ,EAAM,IAAIY,CAAgB,EAE1B,MAAME,EAAe,IAAIC,EAAa,SAAU,EAAG,EACnDf,EAAM,IAAIc,CAAY,EAEtB,MAAME,EAAS,IAAIC,EAAK,IAAIC,EAAiB,IAAIC,EAAe,CAAE,QAAS,GAAI,CAAE,CAAC,EAClFH,EAAO,SAAS,EAAI,CAAC,KAAK,GAAK,EAC/BA,EAAO,MAAM,UAAU,EAAE,EACzBA,EAAO,cAAgB,GACvBhB,EAAM,IAAIgB,CAAM,EAEhBZ,EAAW,IAAIgB,EAAcnB,EAAQC,EAAS,UAAU,EACxDE,EAAS,YAAc,EACvBA,EAAS,OAAO,EAAI,EACpBA,EAAS,OAAM,EAGf,MAAMiB,EAAU,IAAIC,EACL,IAAIC,EAAWF,CAAO,EAC9B,KAAK,0CAA2CG,GAAU,CAE7DrB,EAAQqB,CAEZ,CAAC,EAGDH,EAAQ,OAAS,IAAM,CAEnBlB,EAAM,SAAS,EAAI,KAAK,GAAK,EAC7BA,EAAM,SAASsB,GAAK,CAChBA,EAAE,WAAa,EACnB,CAAC,EACD,QAASC,EAAI,EAAGA,GAAK,EAAGA,IAEpBvB,EAAM,OAAO,KAAMuB,CAAC,EAAG,EAAE,cAAcC,EAAU,SAAS,EAAE,CAAC,EAC7DxB,EAAM,OAAO,KAAMuB,CAAC,EAAG,EAAE,cAAcC,EAAU,SAAS,GAAG,CAAC,EAC9DxB,EAAM,OAAO,KAAMuB,CAAC,EAAG,EAAE,cAAcC,EAAU,SAAS,GAAG,CAAC,EAGlExB,EAAM,kBAAkB,EAAI,EAE5B,MAAMyB,EAAK,IAAIC,EACfD,EAAG,cAAczB,CAAK,EAEtBA,EAAM,SAAS,GAAKyB,EAAG,IAAI,EAC3B5B,EAAM,IAAIG,CAAK,CAEnB,EAEA2B,EAAQ,EACR,OAAO,iBAAiB,SAAUA,CAAQ,CAE9C,CAEA,SAASA,GAAW,CAEhB5B,EAAS,QAAQ,OAAO,WAAY,OAAO,WAAW,EACtDA,EAAS,cAAc,OAAO,gBAAgB,EAE9CD,EAAO,OAAS,OAAO,WAAa,OAAO,YAC3CA,EAAO,uBAAsB,CAEjC,CAEA,SAASK,GAAS,CAEd,sBAAsBA,CAAM,EAC5BJ,EAAS,OAAOF,EAAOC,CAAM,CAEjC"}